<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="xxx">
  <!-- 增删改statement的parameterType属性均可省略 -->
  <insert id="insertStu" parameterType="Student">
    insert into student(name,age)  values(#{name},#{age})
  </insert>
  <!-- #{} 内的填写内容为,若参数传递来的是自定义对象,则填写的是该类型的get属性 -->
  
  <insert id="insertStuCatchId">
  	insert into student(name,age) values(#{name},#{age})
  	
  	<selectKey resultType="int" keyProperty="id" order="AFTER">
  	    <!-- select @@identity -->
  		select last_insert_id()
  	</selectKey>
  
  </insert>
  
  <delete id="deleteById">
  	delete from student where id = #{id}
  </delete>
  
  <update id="updateStudent">
  	update student set name = #{name},age = #{age} where id = #{id}
  </update>
  
  <select id="selectAllStudents" resultType="Student">
    select id ,name,age from student  
  </select>
  
  <select id="selectStudentById" resultType="Student">
    select id ,name,age from student where id = #{id} 
  </select>
  
  <select id="selectStudentsByName" resultType="Student">
   select id ,name,age from student where name like '%' #{name} '%'
  </select>
  
  <select id="selectStudentsByNameAndAge" resultType="Student">
   select id ,name,age from student where name like '%' #{name} '%' and age &lt; #{age} 
  </select>
  
  <select id="selectStudentsByCondition" resultType="Student">
  	select id,name,age from student where name like '%' #{name} '%' and age &lt; #{ageTop} and age &gt; #{ageLow}
  </select>
  
  <select id="selectStudentsByCondition2" resultType="Student">
  	select id,name,age from student 
  	where name like '%' #{mystu.name} '%' and age &gt; #{mystu.age} and age &lt; #{mystu2.age}
  </select>
  
  
  
  
  
</mapper>